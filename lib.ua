# Experimental!
# Raylib Bindings

â”Œâ”€â•´Lib
  Path â† memo(
    $"bin/raylib_" â£(
      "_win32.dll" Â°{"windows" "x86"}
    | "_win64.dll" Â°{"windows" "x86_64"}
    | â©â¤"Unsupported architecture." â‹…0 Â°{"windows" âˆ˜}
    | ".dylib" Â°{"macos" "aarch64"}
    | ".so"
    ) {Os Arch}
    {"." ThisFileDir âˆ˜}
    /($"___" âŠ™Sep)
  )

  Version â† "5.5"

  Call â† &ffi âŠ‚â–¡Path
â””â”€â•´

# Contains FFI types:
#  - Vectorâ‚‚
#  - Rect
#  - Color
#  - Image
#  - Texture
â”Œâ”€â•´T
  Vectorâ‚‚ â† "{float; float}"
  Rect    â† "{float; float; float; float}"
  Color   â† "{unsigned char; unsigned char; unsigned char; unsigned char}"
  Image   â† "{void*; int; int; int; int}"
  Texture â† "{unsigned int; int; int; int; int}"
â””â”€â•´

# Represents a 2d vector.
~Vectorâ‚‚ [X Y]

# Represents a rectangle, with a position and a size.
~Rect [X Y Width Height]

# Contains color constants and color data definition.
â”Œâ”€â•´Color
  ~[R G B A]

  LightGray  â† $LightGray New 200 200 200 255
  Gray       â† $Gray New 130 130 130 255
  DarkGray   â† $DarkGray New 80 80 80 255
  Yellow     â† $Yellow New 253 249 0 255
  Gold       â† $Gold New 255 203 0 255
  Orange     â† $Orange New 255 161 0 255
  Pink       â† $Pink New 255 109 194 255
  Red        â† $Red New 230 41 55 255
  Maroon     â† $Maroon New 190 33 55 255
  Green      â† $Green New 0 228 48 255
  Lime       â† $Lime New 0 158 47 255
  DarkGreen  â† $DarkGreen New 0 117 44 255
  SkyBlue    â† $SkyBlue New 102 191 255 255
  Blue       â† $Blue New 0 121 241 255
  DarkBlue   â† $DarkBlue New 0 82 172 255
  Purple     â† $Purple New 200 122 255 255
  Violet     â† $Violet New 135 60 190 255
  DarkPurple â† $DarkPurple New 112 31 126 255
  Beige      â† $Beige New 211 176 131 255
  Brown      â† $Brown New 127 106 79 255
  DarkBrown  â† $DarkBrown New 76 63 47 255
  White      â† $White New 255 255 255 255
  Black      â† $Black New 0 0 0 255
  Blank      â† $Blank New 0 0 0 0
  Magenta    â† $Magenta New 255 0 255 255
  RayWhite   â† $RayWhite New 245 245 245 255
â””â”€â•´

# Contains functions and information related to the `Image` struct:
#  - Data definition
#  - Load
#  - Unload
#  - New: to be used with `âœ`
#  - Formats: named constants for raylib Image formats
â”Œâ”€â•´Image
  ~{Pixels W H Format Mipmaps}

  # image ? format array
  Load â† Lib {T~Image "LoadImageFromMemory" "const char*" "const unsigned char:2" "int"} â–¡â‚‚âŠ‚@.âŸœimg

  # ? image
  Unload â† â—ŒLib {"void" "UnloadImage" T~Image} â–¡â‚

  # Loads an image with the given format from an image array as you would
  # normally use it. Â°Image unloads the image. Should mostly be used like
  # `âœImageâŸœF` to preserve the image for unloading.
  New â† âŒ…(Load|Unload)

  FromTexture â† Lib {T~Image "LoadImageFromTexture" T~Texture} â–¡â‚

  # Named constants for raylib Image formats.
  â”Œâ”€â•´Formats
    UGray        â† 1  # â‹¯ 8
    UGrayA       â† 2  # â‹¯ 16
    URGBâ‚…        â† 3  # â‹¯ 16   G has extra bit
    URGBâ‚ˆ        â† 4  # â‹¯ 24
    URGBAâ‚…       â† 5  # â‹¯ 16   1 bit alpha
    URGBAâ‚„       â† 6  # â‹¯ 16
    URGBAâ‚ˆ       â† 7  # â‹¯ 32
    URâ‚ƒâ‚‚         â† 8  # â‹¯ 32   1x Float
    URGBâ‚ƒâ‚‚       â† 9  # â‹¯ 96   3x Float
    URGBAâ‚ƒâ‚‚      â† 10 # â‹¯ 128  4x Float
    URâ‚â‚†         â† 11 # â‹¯ 16   1x Float Â½
    URGBâ‚â‚†       â† 12 # â‹¯ 48   3x Float Â½
    URGBAâ‚â‚†      â† 13 # â‹¯ 64   4x Float Â½
    CDXTRGBâ‚     â† 14 # â‹¯ 4
    CDXTRGBAâ‚    â† 15 # â‹¯ 4
    CDXTRGBAâ‚ƒ    â† 16 # â‹¯ 8
    CDXTRGBAâ‚…    â† 17 # â‹¯ 8
    CETCRGBâ‚     â† 18 # â‹¯ 4
    CETCRGBâ‚‚     â† 19 # â‹¯ 4
    CETCEACRGBAâ‚‚ â† 20 # â‹¯ 8
    CPVRTRGB     â† 21 # â‹¯ 4
    CPVRTRGBA    â† 22 # â‹¯ 4
    CASTCRGBAâ‚„   â† 23 # â‹¯ 8
    CASTCRGBAâ‚ˆ   â† 24 # â‹¯ 2
  â””â”€â•´
â””â”€â•´

â”Œâ”€â•´Texture
  ~{Id Width Height Mipmaps Format}
  
  Load   â† Lib {T~Texture "LoadTexture" "const char*"} â–¡â‚
  Unload â† â—ŒLib {"void" "UnloadTexture" T~Texture} â–¡â‚
  
  New â† âŒ…(Load|Unload)
  
  FromImage â† Lib {T~Texture "LoadTextureFromImage" T~Image} â–¡â‚
  
  # t ? format img-array
  FromArray â† âŒ…(âœImageâŸœFromImage|Unload)
â””â”€â•´

# Window related functions:
#  - Data definition
#  - Constructor for raylib
#  - FPS & Â°FPS
#  - Time, FrameTime
#  - ShouldClose, Close
#  - IsFullscreen & ToggleFullscreen
#  - RenderWidth, RenderHeight & Size
#  - Loop! for simple applications
â”Œâ”€â•´Window
  ~{Width Height Title}
  
  # Initialize window and OpenGL context.
  # This should be called before any other Raylib functions.
  # ? width height title
  Call â† â—ŒLib {"void" "InitWindow" "int" "int" "const char*"} â–¡â‚ƒ
  
  # FPS gets current, Â°FPS sets target
  # FPS ?
  FPS â† âŒ…(
    Lib {"int" "GetFPS"} {}
  | â—ŒLib {"void" "SetTargetFPS" "int"} â–¡â‚
  )
  
  # Get time in seconds for last frame drawn (delta time)
  # frame-time ?
  FrameTime â† (Lib {"float" "GetFrameTime"} {})
  
  # Get elapsed time in seconds since InitWindow
  # elapsed ?
  Time â† (Lib {"double" "GetTime"} {})
  
  # Check if application should close (KEY_ESCAPE pressed or windows close icon clicked)
  # Boolean ?
  ShouldClose â† (Lib {"int" "WindowShouldClose"} {})
  
  # Close window and unload OpenGL context.
  Close â† (â—ŒLib {"void" "CloseWindow"} {})
  
  # Check if window is currently fullscreen
  # Boolean ?
  IsFullscreen â† (Lib {"int" "IsWindowFullscreen"} {})
  
  # Toggle window state: fullscreen/windowed, resizes monitor to match window resolution
  ToggleFullscreen â† (â—Œ Lib {"void" "ToggleFullscreen"} {})
  
  # Get current render width (it considers HiDPI)
  # width ?
  RenderWidth â† (Lib {"int" "GetRenderWidth"} {})
  
  # Get current render height (it considers HiDPI)
  # height ?
  RenderHeight â† (Lib {"int" "GetRenderHeight"} {})
  
  # Size gets current render size, Â°Size sets it.
  Size â† âŒ…(
    RenderWidth RenderHeight
  | â—ŒLib {"void" "SetWindowSize" "int" "int"} â–¡â‚‚
  )
  
  # Main loop for a basic application
  Loop! â† Close â¢^0(Â¬ShouldClose)
â””â”€â•´

# Drawing related functions:
#  - Begin
#  - End
#  - Call: to be used with `âœ`
â”Œâ”€â•´Drawing
  Begin â† (â—ŒLib {"void" "BeginDrawing"} {})
  End   â† (â—ŒLib {"void" "EndDrawing"} {})
  
  # To be used with `âœ`. Begins and ends drawing.
  # Needs to happen after initializing a window.
  Call â† âŒ…(Begin|End)
â””â”€â•´

# Mouse related functions and modules:
#  - Pos & Â°Pos: get/set
#  - â–²: mouse delta between frames
#  - Button: Button related functions & constants
#  - Cursor: Cursor related functions
â”Œâ”€â•´Mouse
  # `Pos` gets the current position as a vector, `Â°Pos` sets it.
  # Vectorâ‚‚ ?
  Pos â† âŒ…(
    Lib {T~Vectorâ‚‚ "GetMousePosition"} {}
  | â—ŒLib {"void" "SetMousePosition" "int" "int"} â–¡â‚‚)
  
  # Get mouse delta between frames.
  # Vectorâ‚‚ ?
  â–² â† (Lib {T~Vectorâ‚‚ "GetMouseDelta"} {})
  
  # Button related constants and functions:
  #  - Left, Right, Middle, Side, Extra, Forward, Back constants
  #  - Pressed & Â°Pressed (Released)
  #  - Down & Â°Down (Up)
  â”Œâ”€â•´Button
    Left    â† 0
    Right   â† 1
    Middle  â† 2
    Side    â† 3
    Extra   â† 4
    Forward â† 5
    Back    â† 6
    
    # Check if a mouse button has been pressed once. Inverse â†’ released.
    # bool ? button
    Pressed â† âŒ…(
      Lib {"char" "IsMouseButtonPressed" "int"} â–¡â‚
    | Lib {"char" "IsMouseButtonReleased" "int"} â–¡â‚
    )
    
    # Check if a mouse button is being pressed. Inverse â†’ NOT pressed.
    # bool ? button
    Down â† âŒ…(
      Lib {"char" "IsMouseButtonDown" "int"} â–¡â‚
    | Lib {"char" "IsMouseButtonUp" "int"} â–¡â‚
    )
  â””â”€â•´
  
  # Cursor related functions:
  #  - Hide & Â°Hide (Show)
  #  - IsHidden
  #  - IsOnScreen
  â”Œâ”€â•´Cursor
    # `Hide` hides the cursor, `Â°Hide` shows it.
    Hide â† âŒ…(
      â—ŒLib {"void" "HideCursor"} {}
    | â—ŒLib {"void" "ShowCursor"} {}
    )
    
    IsHidden â† (Lib {"int" "IsCursorHidden"} {})
    
    IsOnScreen â† (Lib {"int" "IsCursorOnScreen"} {})
  â””â”€â•´
â””â”€â•´

# Keyboard related functions and constants:
#  - Code: Key code constants and conversion
#  - Pressed & Â°Pressed (Released)
#  - PressedRepeat
#  - Down & Â°Down (Up)
#  - Exit: sets exit key
#  - PressedCode & PressedCodes
#  - PressedChar & PressedChars
â”Œâ”€â•´Keyboard
  # Key code constants and conversion
  â”Œâ”€â•´Code
    Escape       â† 256
    Enter        â† 257
    Tab          â† 258
    Backspace    â† 259
    Insert       â† 260
    Delete       â† 261
    Right        â† 262
    Left         â† 263
    Down         â† 264
    Up           â† 265
    PageUp       â† 266
    PageDown     â† 267
    Home         â† 268
    End          â† 269
    CapsLock     â† 280
    ScrollLock   â† 281
    NumLock      â† 282
    PrintScreen  â† 283
    Pause        â† 284
    Fâ‚           â† 290
    Fâ‚‚           â† 291
    Fâ‚ƒ           â† 292
    Fâ‚„           â† 293
    Fâ‚…           â† 294
    Fâ‚†           â† 295
    Fâ‚‡           â† 296
    Fâ‚ˆ           â† 297
    Fâ‚‰           â† 298
    Fâ‚â‚€          â† 299
    Fâ‚â‚          â† 300
    Fâ‚â‚‚          â† 301
    LeftShift    â† 340
    LeftControl  â† 341
    LeftAlt      â† 342
    LeftSuper    â† 343
    RightShift   â† 344
    RightControl â† 345
    RightAlt     â† 346
    RightSuper   â† 347
    Menu         â† 348
    
    Kpâ‚€        â† 320
    Kpâ‚        â† 321
    Kpâ‚‚        â† 322
    Kpâ‚ƒ        â† 323
    Kpâ‚„        â† 324
    Kpâ‚…        â† 325
    Kpâ‚†        â† 326
    Kpâ‚‡        â† 327
    Kpâ‚ˆ        â† 328
    Kpâ‚‰        â† 329
    KpDecimal  â† 330
    KpDivide   â† 331
    KpMultiply â† 332
    KpSubtract â† 333
    KpAdd      â† 334
    KpEnter    â† 335
    KpEqual    â† 336
    New        â† â¥(-@\0âŒµ)âŠ¸type
  â””â”€â•´
  
  # Checks if a key has been pressed once. `Â°Pressed` = released
  # bool ? char
  Pressed â† âŒ…(
    Lib {"char" "IsKeyPressed" "int"} {Code}
  | Lib {"char" "IsKeyReleased" "int"} {Code}
  )
  
  # Checks if a key has been pressed again.
  # bool ? char
  PressedRepeat â† Lib {"char" "IsKeyPressedRepeat" "int"} {Code}
  
  # Checks if a key is being pressed. `Â°Down` = not pressed
  # bool ? char
  Down â† âŒ…(
    Lib {"char" "IsKeyDown" "int"} {Code}
  | Lib {"char" "IsKeyUp" "int"} {Code}
  )
  
  â€¼ â†š â‹…â‰¡â—‡âˆ˜ â¢âŠ‚(âŠ¸â‰ ^0 ^1) {}
  
  # Gets key pressed (keycode), call multiple times for keys queued, returns 0 when the queue is empty.
  # code ?
  PressedCode  â† (Lib {"int" "GetKeyPressed"} {})
  PressedCodes â† (â€¼0 PressedCode)
  
  # Gets char pressed (unicode), call multiple times for chars queued, returns 0 when the queue is empty.
  # char ?
  PressedChar  â† (+@\0 Lib {"int" "GetCharPressed"} {})
  PressedChars â† (â€¼@\0 PressedChar)
  
  # Sets a custom key to exit program (default is ESC).
  # ? char
  Exit â† â—ŒLib {"void" "SetExitKey" "int"} {Code}
â””â”€â•´

# Contains font related functions. Doesn't work right now.
#  - New returns the default font
#  - File
â”Œâ”€â•´Font
  # default-font ?
  New â† (Lib {"const void*" "GetFontDefault"} {})
  
  # font ? filename
  File â† Lib {"const void*" "LoadFont" "const char*"} â–¡â‚
  
  # font ? filename size codepoints count
  FileEx â† Lib {"const void*" "LoadFontEx" "const char*" "int" "int*" "int"} â–¡â‚„
  
  # font ? type raw size
  FromMemory â† (
    â–¡â‚… âŠ™âŠ™âŠ™(NULL 0)
    Lib {"const void*" "LoadFontFromMemory" "const char*" "const unsigned char:2" "int" "int" "int*" "int"}
  )
  
  # font ? file size
  TTF â† (
    FromMemoryâŸœ(&frabËœâŠ‚) ".ttf"
  )
â””â”€â•´

# Contains the following functions for drawing various shapes.
# The modules (`Name & ~...`) each have a `Call` function and the listed functions.
#  - Background
#  - Pixel
#  - Line & ~Thickness, ~Strip, ~Bezier
#  - Circle & ~Outline
#  - Sector & ~Outline
#  - Ellipse & ~Outline
#  - Ring & ~Outline
#  - Rect & ~Outline
#  - Triangle & ~Outline
#  - Poly & ~Outline
#  - Text & ~Measure, ~Centered
â”Œâ”€â•´Draw
  # Sets background color
  # ? color
  Background â† â—ŒLib {"void" "ClearBackground" T~Color} â–¡â‚
  
  # Draws a pixel using geometry. Slow when used a lot.
  # ? pos color
  Pixel â† â—ŒLib {"void" "DrawPixelV" T~Vectorâ‚‚ T~Color} â–¡â‚‚
  
  â”Œâ”€â•´Texture    
    # Draws a texture at a position with some tint.
    # ? texture pos tint
    Call â† â—ŒLib {"void" "DrawTextureV" T~Texture T~Vectorâ‚‚ T~Color} â–¡â‚ƒ
    
    # Draws a texture with extended rotation and scale.
    # ? texture pos rot scale tint
    ScaleRot â† (
      â—ŒLib {"void" "DrawTextureEx" T~Texture T~Vectorâ‚‚ "float" "float" T~Color} â–¡â‚…
    )
    
    # Draws a part of a texture defined by a rectangle.
    # ? texture rect pos tint
    Rect â† (
      â—ŒLib {"void" "DrawTextureRec" T~Texture T~Rect T~Vectorâ‚‚ T~Color} â–¡â‚„
    )
    
    # Draws a part of a texture defined by a rectangle with custom destination,
    # as well as rotation.
    # ? texture source dest origin rot tint
    RectPro â† (
      â—ŒLib {"void" "DrawTexturePro" T~Texture T~Rect T~Rect T~Vectorâ‚‚ "float" T~Color} â–¡â‚†
    )
  â””â”€â•´
  
  # Contains Line drawing functions:
  #  - Call
  #  - Thickness
  #  - Strip
  #  - Bezier
  â”Œâ”€â•´Line
    # Draws a line.
    # ? from to color
    Call â† (
      â—ŒLib {"void" "DrawLineV" T~Vectorâ‚‚ T~Vectorâ‚‚ T~Color} â–¡â‚ƒ
    )
    
    # Draws a line with thickness.
    # ? from to thickness color
    Thickness â† (
      â—ŒLib {"void" "DrawLineEx" T~Vectorâ‚‚ T~Vectorâ‚‚ "float" T~Color} â–¡â‚„
    )
    
    # Draws a line strip.
    # ? vectorsâ‚‚ color
    Strip â† (
      â—ŒLib {"void" "DrawLineStrip" $"const _:1"T~Vectorâ‚‚ "int" T~Color} â–¡â‚‚
    )
    
    # Draws line segment cubic-bezier in-out interpolation.
    # ? from to thickness color
    Bezier â† â—ŒLib {"void" "DrawLineBezier" T~Vectorâ‚‚ T~Vectorâ‚‚ "float" T~Color} â–¡â‚„
  â””â”€â•´
  
  â”Œâ”€â•´Circle
    # ? center r color
    Call â† â—ŒLib {"void" "DrawCircleV" T~Vectorâ‚‚ "float" T~Color} â–¡â‚ƒ
    
    # ? center r color
    Outline â† â—ŒLib {"void" "DrawCircleLinesV" T~Vectorâ‚‚ "float" T~Color} â–¡â‚ƒ
  â””â”€â•´
  
  â”Œâ”€â•´Sector
    # ? center r Î¸â‚€ Î¸â‚ segments color
    Call â† (
      â—ŒLib {"void" "DrawCircleSector" T~Vectorâ‚‚ "float" "float" "float" "int" T~Color} â–¡â‚†
    )
    
    # ? center r Î¸â‚€ Î¸â‚ segments color
    Outline â† (
      â—ŒLib {"void" "DrawCircleSectorLines" T~Vectorâ‚‚ "float" "float" "float" "int" T~Color} â–¡â‚†
    )
  â””â”€â•´
  
  â”Œâ”€â•´Ellipse
    # ? center hr vr color
    Call â† (
      â—ŒLib {"void" "DrawEllipse" "int" "int" "float" "float" T~Color} â–¡â‚… Â°âŠŸ
    )
    
    # ? center hr vr color
    Outline â† (
      â—ŒLib {"void" "DrawEllipseLines" "int" "int" "float" "float" T~Color} â–¡â‚… Â°âŠŸ
    )
  â””â”€â•´
  
  â”Œâ”€â•´Ring
    # ? center ir or Î¸â‚€ Î¸â‚ segments color
    Call â† (
      â—ŒLib {"void" "DrawRing" T~Vectorâ‚‚ "float" "float" "float" "float" "int" T~Color} â–¡â‚‡
    )
    
    # ? center ir or Î¸â‚€ Î¸â‚ segments color
    Outline â† â—ŒLib {"void" "DrawRingLines" T~Vectorâ‚‚ "float" "float" "float" "float" "int" T~Color} â–¡â‚‡
  â””â”€â•´
  
  â”Œâ”€â•´Rect
    # ? pos size color
    Call â† â—ŒLib {"void" "DrawRectangleV" T~Vectorâ‚‚ T~Vectorâ‚‚ T~Color} â–¡â‚ƒ
    
    # ? pos size color
    Outline â† â—ŒLib {"void" "DrawRectangleLines" "int" "int" "int" "int" T~Color} â–¡â‚… âˆ©Â°âŠŸ
  â””â”€â•´
  
  â”Œâ”€â•´Triangle
    # ? pâ‚ pâ‚‚ pâ‚ƒ color
    Call â† â—ŒLib {"void" "DrawTriangle" T~Vectorâ‚‚ T~Vectorâ‚‚ T~Vectorâ‚‚ T~Color} â–¡â‚„
    
    # ? pâ‚ pâ‚‚ pâ‚ƒ color
    Outline â† â—ŒLib {"void" "DrawTriangleLines" T~Vectorâ‚‚ T~Vectorâ‚‚ T~Vectorâ‚‚ T~Color} â–¡â‚„
  â””â”€â•´
  
  â”Œâ”€â•´Poly
    # ? center sides r Î¸ color
    Call â† â—ŒLib {"void" "DrawPoly" T~Vectorâ‚‚ "int" "float" "float" T~Color} â–¡â‚…
    
    # ? center sides r Î¸ color
    Outline â† â—ŒLib {"void" "DrawPolyLines" T~Vectorâ‚‚ "int" "float" "float" T~Color} â–¡â‚…
  â””â”€â•´
  
  # All functions use the default font.
  # - Call
  # - Measure
  # - DrawCentered
  â”Œâ”€â•´Text
    # ? text x y size color
    Call â† â—ŒLib {"void" "DrawText" "const char*" "int" "int" "int" T~Color} â–¡â‚…
    
    # ? font text pos size spacing tint
    Ex â† â—ŒLib {"void" "DrawTextEx" "const void*" "const char*" T~Vectorâ‚‚ "float" "float" T~Color} â–¡â‚†
    
    # width ? text size
    Measure â† Lib {"int" "MeasureText" "const char*" "int"} â–¡â‚‚
    
    # size ? font text size spacing
    MeasureEx â† Lib {T~Vectorâ‚‚ "MeasureTextEx" "const void*" "const char*" "float" "float"} â–¡â‚„
    
    # ? text x y size color
    Centered â† Call ğ„âŒ-Ã·â‚‚â—¡ğ„ğ„Measure
    
    # font text pos size spacing tint
    CenteredEx â† Ex âŸœâ‚‚âŠ¸â‚‚(-Ã·â‚‚MeasureExâŠ™âŠ™â¤šâ‹…âŠ™âˆ˜)
  â””â”€â•´
â””â”€â•´

â”Œâ”€â•´Collision
  # Checks collision between two rectangles.
  # bool ? rectâ‚ rectâ‚‚
  Rects â† (
    Lib {"char" "CheckCollisionRecs" T~Rect T~Rect} â–¡â‚‚
  )
  
  # Checks collision between two circles.
  # bool ? centerâ‚ râ‚ centerâ‚‚ râ‚‚
  Circles â† (
    Lib {"char" "CheckCollisionCircles" T~Vectorâ‚‚ "float" T~Vectorâ‚‚ "float"} â–¡â‚„
  )
  
  # Checks collision between circle and rectangle.
  # bool ? center r rect
  CircleRect â† (
    Lib {"char" "CheckCollisionCircleRec" T~Vectorâ‚‚ "float" T~Rect} â–¡â‚ƒ
  )
  
  # Checks if circle collides with the straight line between two points.
  # bool ? center r start end
  CircleLine â† (
    Lib {"char" "CheckCollisionCircleLine" T~Vectorâ‚‚ "float" T~Vectorâ‚‚ T~Vectorâ‚‚} â–¡â‚„
  )
  
  # Checks if point is inside rectangle.
  # bool ? point rect
  PointRect â† (
    Lib {"char" "CheckCollisionPointRec" T~Vectorâ‚‚ T~Rect} â–¡â‚‚
  )
  
  # Checks if point is inside circle, given as center point and radius.
  # bool ? point center r
  PointCircle â† (
    Lib {"char" "CheckCollisionPointCircle" T~Vectorâ‚‚ T~Vectorâ‚‚ "float"} â–¡â‚ƒ
  )
  
  # Checks if point is inside a triangle, given as 3 vertices.
  # bool ? p a b c
  PointTriangle â† (
    Lib {"char" "CheckCollisionPointTriangle" T~Vectorâ‚‚ T~Vectorâ‚‚ T~Vectorâ‚‚ T~Vectorâ‚‚} â–¡â‚„
  )
  
  # Checks if point belongs to the line between two points.
  # bool ? p start end threshold
  PointLine â† (
    Lib {"char" "CheckCollisionPointLine" T~Vectorâ‚‚ T~Vectorâ‚‚ T~Vectorâ‚‚ "int"} â–¡â‚„
  )
  
  # Checks if point is within a polygon, described by an array of vertices.
  # bool ? p ps
  PointPoly â† (
    Lib {"char" "CheckCollisionPointPoly" T~Vectorâ‚‚ $"const _:2"T~Vectorâ‚‚ "int"} â–¡â‚‚
  )
  
  # Checks the collision between two lines defined by two points each.
  # bool ? startâ‚ endâ‚ startâ‚‚ endâ‚‚
  Lines â† (
    Lib {"char" "CheckCollisionLines" T~Vectorâ‚‚ T~Vectorâ‚‚ T~Vectorâ‚‚ T~Vectorâ‚‚} â–¡â‚„
  )
  
  # Gets the intersection of two rectangles.
  # rect ? rectâ‚ rectâ‚‚
  Intersection â† (
    Lib {T~Rect "GetCollisionRec" T~Rect T~Rect} â–¡â‚‚
  )
â””â”€â•´

# A shortcut function to simply show a single array
# at the origin (0, 0). Also handles begin and end of drawing.
ShowArray â† âœTexture~FromArrayâŸœ(
  âœDrawing Draw~TextureâŠ™(0_0 Color~White)
) "png"

# W.I.P.
# put all the shapes into one module and have
# a single draw / collision function?
# collision works nicely, drawing is uglier since
# there are a lot of functions beyond one per shape.
# performance would be bad in bigger systems.
â”Œâ”€â•´Shape
  |Point [x y]
  |Triangle [xâ‚€ yâ‚€ xâ‚ yâ‚ xâ‚‚ yâ‚‚]
  |Circle [cx cy r]
  |Sector [cx cy r Î¸â‚€ Î¸â‚ s]
  |Ring [cx cy in out Î¸â‚€ Î¸â‚ s]
  |Rect [x y w h]
  |Text {Raw x y s}
  |Ellipse [cx cy hr vr]
  â”Œâ”€â•´Line
    |New [xâ‚€ yâ‚€ xâ‚ yâ‚]
    |wThickness [xâ‚€ yâ‚€ xâ‚ yâ‚ t]
    |Strip {ps}
    |Bezier [xâ‚€ yâ‚€ xâ‚ yâ‚ t]
  â””â”€â•´
  â”Œâ”€â•´Poly
    |New {ps}
    |Regular [cx cy s r Î¸]
  â””â”€â•´
  
  # bool ? shapeâ‚€ shapeâ‚
  Collision â† â£(
    Collision~Rects âˆ©âŠŸâ‚„ Â°âˆ©Rect
  | Collision~Lines âˆ©â‚„âŠŸ Â°âˆ©Line
  | Collision~Circles âŠ“âŠŸâŠ™âŠŸ Â°âˆ©Circle
  | Collision~CircleRect âŠ“âŠŸâŠ™âŠŸâ‚„ Â°âŠ“Circle Rect
  | Collision~CircleLine âŠ“âŠŸâŠ™âˆ©âŠŸ Â°âŠ“Circle Line
  | Collision~PointRect âŠ“âŠŸâŠŸâ‚„ Â°âŠ“Point Rect
  | Collision~PointCircle âˆ©âŠŸ Â°âŠ“Point Circle
  | Collision~PointTriangle âˆ©â‚„âŠŸ Â°âŠ“Point Triangle
  | Collision~PointLine âˆ©â‚ƒâŠŸ Â°âŠ“Point Line
  | Collision~PointPoly âŠŸ Â°âŠ“Point Poly
  | 0 â©â¤.$ Unknown shapes or invalid combination.
         $ Make sure you use the variants provided by this module!
  )
  
  â”Œâ”€â•´Draw
    # ? shape color
    Call â† â£(
      â—ŒLib {"void" "DrawPixelV" T~Vectorâ‚‚ T~Color} â–¡â‚‚ âŠŸ Â°Point
    | â—ŒLib {"void" "DrawLineV" T~Vectorâ‚‚ T~Vectorâ‚‚ T~Color} â–¡â‚ƒ âˆ©âŠŸ Â°Line
    | â—ŒLib {"void" "DrawLineEx" T~Vectorâ‚‚ T~Vectorâ‚‚ "float" T~Color} â–¡â‚„ âˆ©âŠŸ Â°Line~wThickness
    | â—ŒLib {"void" "DrawLineStrip" $"const _:1"T~Vectorâ‚‚ "int" T~Color} â–¡â‚‚ Â°Line~Strip
    | â—ŒLib {"void" "DrawLineBezier" T~Vectorâ‚‚ T~Vectorâ‚‚ "float" T~Color} â–¡â‚„ âˆ©âŠŸ Â°Line~Bezier
    | â—ŒLib {"void" "DrawTriangle" T~Vectorâ‚‚ T~Vectorâ‚‚ T~Vectorâ‚‚ T~Color} â–¡â‚„ âˆ©â‚ƒâŠŸ Â°Triangle
    | â—ŒLib {"void" "DrawRectangleV" T~Vectorâ‚‚ T~Vectorâ‚‚ T~Color} â–¡â‚ƒ âˆ©âŠŸ Â°Rect
    | â—ŒLib {"void" "DrawCircleV" T~Vectorâ‚‚ "float" T~Color} â–¡â‚ƒ âŠŸ Â°Circle
    | â—ŒLib {"void" "DrawCircleSector" T~Vectorâ‚‚ "float" "float" "float" "int" T~Color} â–¡â‚† âŠŸ Â°Sector
    | â—ŒLib {"void" "DrawRing" T~Vectorâ‚‚ "float" "float" "float" "float" "int" T~Color} â–¡â‚‡ âŠŸ Â°Ring
    | â—ŒLib {"void" "DrawEllipse" "int" "int" "float" "float" T~Color} â–¡â‚… Â°Ellipse
    | â—ŒLib {"void" "DrawPoly" T~Vectorâ‚‚ "int" "float" "float" T~Color} â–¡â‚… âŠŸ Â°Poly~Regular
    | â—ŒLib {"void" "DrawText" "const char*" "int" "int" "int" T~Color} â–¡â‚… Â°Text
    | â©â¤.$ Unknown shape. Make sure you use the variants provided by this module!
    )
    
    # ? shape color
    Outline â† â£(
      â—ŒLib {"void" "DrawCircleLinesV" T~Vectorâ‚‚ "float" T~Color} â–¡â‚ƒ âŠŸ Â°Circle
    | â—ŒLib {"void" "DrawTriangleLines" T~Vectorâ‚‚ T~Vectorâ‚‚ T~Vectorâ‚‚ T~Color} â–¡â‚„ âˆ©â‚ƒâŠŸ Â°Triangle
    | â—ŒLib {"void" "DrawPolyLines" T~Vectorâ‚‚ "int" "float" "float" T~Color} â–¡â‚… âŠŸ Â°Poly~Regular
    | â—ŒLib {"void" "DrawCircleSectorLines" T~Vectorâ‚‚ "float" "float" "float" "int" T~Color} â–¡â‚† âŠŸ Â°Sector
    | â—ŒLib {"void" "DrawRingLines" T~Vectorâ‚‚ "float" "float" "float" "float" "int" T~Color} â–¡â‚‡ âŠŸ Â°Ring
    | â—ŒLib {"void" "DrawEllipseLines" "int" "int" "float" "float" T~Color} â–¡â‚… Â°Ellipse
    | â—ŒLib {"void" "DrawRectangleLines" "int" "int" "int" "int" T~Color} â–¡â‚… Â°Rect
    | â©â¤.$ Unknown shape. Make sure you use the variants provided by this module!
         $ Supported shapes: Circle, Triangle, Poly~Regular, Sector, Ring, Ellipse, Rect
    )
  â””â”€â•´
â””â”€â•´
